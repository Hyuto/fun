(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(21),i=c.n(s),l=(c(29),c(4)),o=(c(30),c(31),c(3)),r=c.n(o),d=c(5),u=c(9),j=c(22),b=c.n(j).a.create({baseURL:"https://django-todos-application.herokuapp.com/api/"}),p=c(2),O=a.a.createContext({}),h=function(e){var t=e.children,c=Object(n.useState)(null),a=Object(l.a)(c,2),s=a[0],i=a[1],o=Object(n.useCallback)((function(e,t){i(s.map((function(c){return c.id===e&&(c=t),c})))}),[s]),r=Object(n.useCallback)((function(e){i(s.filter((function(t){return t.id!==e})))}),[s]);return Object(n.useEffect)((function(){b.get(".").then((function(e){i(e.data)}))}),[]),Object(p.jsx)(O.Provider,{value:{data:s,setData:i,UpdateData:o,DeleteData:r},children:t})},x=(c(52),function(e){var t=e.data,c=e.callback,a=Object(n.useContext)(O),s=a.UpdateData,i=a.DeleteData,o=Object(n.useState)("hidden"),j=Object(l.a)(o,2),h=j[0],x=j[1],f=function(){var e=Object(d.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.complete=!t.complete,e.next=3,b.put("".concat(t.id,"/"),t).then((function(e){s(t.id,e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=t.complete?Object(p.jsx)(u.a,{className:"icon",color:"#17d2e8",onClick:function(e){e.stopPropagation(),f()}}):Object(p.jsx)(u.c,{className:"icon",color:"gray",onClick:function(e){e.stopPropagation(),f()}});return Object(p.jsxs)("div",{id:"todos-".concat(t.id),className:"Bar",children:[Object(p.jsxs)("div",{className:"head",onClick:function(){return x(function(e){return"hidden"===e?"show":"hidden"}(h))},children:[Object(p.jsx)("div",{className:"text",children:t.title}),Object(p.jsxs)("div",{className:"icons",children:[m,Object(p.jsx)(u.d,{className:"icon",color:"#e81d17",onClick:function(){var e=Object(d.a)(r.a.mark((function e(c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.stopPropagation(),b.delete("".concat(t.id,"/")).then((function(){i(t.id)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})]}),Object(p.jsxs)("div",{className:"desc ".concat(h),children:[Object(p.jsxs)("div",{className:"info",children:[Object(p.jsxs)("p",{className:"sub-info",children:[Object(p.jsx)("strong",{children:"Description"})," : ",t.description]}),Object(p.jsxs)("p",{className:"sub-info",children:[Object(p.jsx)("strong",{children:"Deadline"})," : ",t.deadline?t.deadline:"Not Listed"]}),Object(p.jsxs)("p",{className:"sub-info",children:[Object(p.jsx)("strong",{children:"Status"})," : ",t.complete?"Finished":!1===t.complete?"Not Finished":"Unknown"]})]}),Object(p.jsx)("div",{className:"update-btn",onClick:function(){c("update",t)},children:"Update Data"})]})]},t.id)}),f=(c(53),function(){return Object(p.jsxs)("div",{className:"spinner",children:[Object(p.jsx)("div",{className:"double-bounce1"}),Object(p.jsx)("div",{className:"double-bounce2"})]})}),m=function(e){var t=e.callback,c=Object(n.useContext)(O).data,a=null===c?"loading":"complete",s=null===c?null:c.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e){return Object(p.jsx)(x,{data:e,callback:t},e.id)}));return console.log("main.tsx"),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"btn-wrapper",children:Object(p.jsx)("div",{className:"add-btn ".concat("complete"!==a?"nonactive":""),onClick:function(){"complete"===a&&t("add")},children:"Add To Do"})}),Object(p.jsxs)("div",{className:"list-wrapper",children:[Object(p.jsx)("div",{className:a,children:Object(p.jsx)(f,{})}),Object(p.jsx)("div",{className:"list",children:s})]})]})},v=c(11),N=(c(54),c(24)),g=c(23),k=function(e){var t=e.className,c=e.callback,a=e.typeform,s=Object(n.useContext)(O),i=s.data,o=s.setData,j=Object(N.a)(),h=j.register,x=j.handleSubmit,f=j.reset,m=Object(n.useState)("close"),k=Object(l.a)(m,2),C=k[0],y=k[1],D=Object(n.useState)(null),w=Object(l.a)(D,2),S=w[0],U=w[1],F=function(e,t){var c=[];return"success"===e?c.push(Object(p.jsx)(u.b,{className:"icons",size:40,color:"green"},"icon")):c.push(Object(p.jsx)(g.a,{className:"icons",size:40,color:"red"},"icon")),c.push(Object(p.jsx)("div",{className:"message",children:t},"message")),c},T=function(){var e=Object(d.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Create"!==a.type){e.next=5;break}return e.next=3,b.post(".",t).then((function(e){i.push(e.data),o(i),y("open"),U(F("success",e.statusText))})).catch((function(e){y("open"),U(F("fail",e.message))}));case 3:e.next=8;break;case 5:if("Update"!==a.type){e.next=8;break}return e.next=8,b.put("./".concat(null===(c=a.data)||void 0===c?void 0:c.id,"/"),t).then((function(e){o(i.map((function(t){var c;return t.id===(null===(c=a.data)||void 0===c?void 0:c.id)&&(t=e.data),t}))),y("open"),U(F("success",e.statusText))})).catch((function(e){y("open"),U(F("fail",e.message))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e,t,c,n,s={title:"",description:"",complete:!1,deadline:null};"Update"===a.type&&(s.title=null===(e=a.data)||void 0===e?void 0:e.title,s.description=null===(t=a.data)||void 0===t?void 0:t.description,s.complete=null===(c=a.data)||void 0===c?void 0:c.complete,s.deadline=null===(n=a.data)||void 0===n?void 0:n.deadline);f(s)}),[a,f]),Object(p.jsx)("div",{className:"new-update ".concat(t),children:Object(p.jsxs)("form",{onSubmit:x(T),children:[Object(p.jsx)("label",{children:"Title"}),Object(p.jsx)("input",Object(v.a)({},h("title",{required:!0,maxLength:200}))),Object(p.jsx)("label",{children:"Description"}),Object(p.jsx)("input",Object(v.a)({},h("description",{required:!0}))),Object(p.jsx)("label",{children:"Status"}),Object(p.jsx)("input",Object(v.a)({type:"checkbox"},h("complete"))),Object(p.jsx)("label",{children:"Deadline"}),Object(p.jsx)("input",Object(v.a)({type:"date"},h("deadline"))),Object(p.jsxs)("div",{className:"btn-wrapper",children:[Object(p.jsx)("input",{className:"btn submit",type:"submit",value:a.type}),Object(p.jsx)("div",{className:"btn cancel",onClick:function(){c("close")},children:"Cancel"})]}),Object(p.jsx)("div",{className:"status ".concat(C),onClick:function(){y("close"),U(null),c("close")},children:S})]})})},C=c.p+"static/media/logo.53c5bd1e.svg",y=(c(55),function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("img",{src:C,className:"spinning-logo",alt:"logo"})})}),D=function(){var e=Object(n.useState)("close"),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)({type:"Create"}),i=Object(l.a)(s,2),o=i[0],r=i[1];console.log("App.tsx");var d=Object(n.useCallback)((function(e,t){switch(e){case"add":r({type:"Create"}),a("open");break;case"update":r({type:"Update",data:t}),a("open");break;case"close":a("close");break;default:Error("Undefined action!")}}),[]);return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(y,{})}),Object(p.jsx)("main",{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"title",children:Object(p.jsx)("h2",{children:"React To Do's App"})}),Object(p.jsx)("div",{className:"todos",children:Object(p.jsxs)(h,{children:[Object(p.jsx)(m,{callback:d}),Object(p.jsx)(k,{className:c,callback:d,typeform:o})]})})]})})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,57)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root")),w()}},[[56,1,2]]]);
//# sourceMappingURL=main.a69d61b2.chunk.js.map